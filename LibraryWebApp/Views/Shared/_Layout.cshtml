@{
ViewData["Title"] = "Home Page";
}
@using LibraryWebApp.Properties
@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>@ViewData["Title"] @Resources.aplicationName </title>
		<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
		<script src="https://kit.fontawesome.com/7b0ee23d01.js" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.css" />
		 <link rel="stylesheet" href="assets/css/style.css">
	</head>
	<body>
		<header class="headerNavi p-3 mb-3 border-bottom bg-dark" data-v = @HttpContextAccessor.HttpContext.Session.GetString("Login")>
			<div class="container">
				<div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
					<a href="/BooksSearching" class="d-flex align-items-center pr-2 mb-2 mb-lg-0 text-white text-decoration-none fas fa-book fa-2x"> LibraryWeb</a>
					<ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">

					</ul>
					<div class="dropdown text-end">
						<a href="Views/BooksSearching/Index.cshtml" class="d-block link-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
						<img src="https://thumbs.dreamstime.com/b/default-avatar-profile-image-vector-social-media-user-icon-potrait-182347582.jpg" alt="mdo" width="32" height="32" class="rounded-circle">
						</a>
						<ul class="dropdown-menu text-small" aria-labelledby="dropdownUser1">
							<li><a asp-controller="UserPanel" asp-action="Index" class="dropdown-item">@Resources.naviProfile</a></li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li><a asp-controller="Cart" asp-action="Index" class="dropdown-item">Cart <span class="badge bg-primary">@HttpContextAccessor.HttpContext.Session.GetInt32("CartCount")</span></a></li>
							<li><a asp-controller="CurrentBorrowed" asp-action="Index" class="dropdown-item">@Resources.naviBorrowedList</a></li>
							<li><a asp-controller="BookQueue" asp-action="Index" class="dropdown-item">Queue list</a></li>
							<li><a asp-controller="BorrowHistory" asp-action="Index" class="dropdown-item">Borrow history</a></li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li><a asp-controller="Login" asp-action="Index" class="dropdown-item">@Resources.naviLogout</a></li>
						</ul>
					</div>
				</div>
			</div>
		</header>
		<script>
			const headerNavi = document.querySelector(".headerNavi")
			if(!headerNavi.dataset.v){
			    headerNavi.remove()
			}
		</script>
		<div class = d-flex>
			<div class="container">
				<main role="main" class="pb-3">
					@RenderBody()
				</main>
			</div>
		</div>
		<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
		<script src="~/js/site.js" asp-append-version="true"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
		@await RenderSectionAsync("Scripts", required: false)
	</body>
</html>